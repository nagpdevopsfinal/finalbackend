pipeline {
  agent any
  tools {
    nodejs "nodejs"
  }

  stages {
    stage('Build') {
      steps {
        sh 'npm i'
      }
    }

    stage('Kubernetes Execution') {
      steps {
        // bat 'gcloud auth login'
        // bat 'gcloud container clusters get-credentials cluster-1 --zone us-central1-c --project quick-doodad-360010'
        bat 'kubectl apply -f K8s/Deployment.yaml'
        // bat 'kubectl --kubeconfig=C:/Users/amitsharma09/.kube/config apply -f K8s/Deployment.yaml'
        // bat 'kubectl --kubeconfig=%USERPROFILE%/.kube/config apply -f K8s/Deployment.yaml'
        
      }
    }
  }
}